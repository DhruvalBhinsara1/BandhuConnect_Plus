{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{supabase}from'./supabase';import LoginPage from'./pages/LoginPage';import DashboardPage from'./pages/DashboardPage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[session,setSession]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const getSession=async()=>{const{data:{session}}=await supabase.auth.getSession();setSession(session);setLoading(false);};getSession();const{data:{subscription}}=supabase.auth.onAuthStateChange((_event,session)=>{setSession(session);});return()=>subscription.unsubscribe();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// Or a proper spinner component\n}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:session?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!session?/*#__PURE__*/_jsx(LoginPage,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:session?/*#__PURE__*/_jsx(DashboardPage,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","supabase","LoginPage","DashboardPage","jsx","_jsx","jsxs","_jsxs","App","session","setSession","loading","setLoading","getSession","data","auth","subscription","onAuthStateChange","_event","unsubscribe","children","path","element","to"],"sources":["E:/BandhuConnectPlus/admin-dashboard/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { supabase } from './supabase';\nimport LoginPage from './pages/LoginPage';\nimport DashboardPage from './pages/DashboardPage';\n\nfunction App() {\n  const [session, setSession] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const getSession = async () => {\n      const { data: { session } } = await supabase.auth.getSession();\n      setSession(session);\n      setLoading(false);\n    };\n\n    getSession();\n\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\n      setSession(session);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  if (loading) {\n    return <div>Loading...</div>; // Or a proper spinner component\n  }\n\n  return (\n    <Router>\n      <Routes>\n        <Route \n          path=\"/\" \n          element={session ? <Navigate to=\"/dashboard\" /> : <Navigate to=\"/login\" />}\n        />\n        <Route \n          path=\"/login\" \n          element={!session ? <LoginPage /> : <Navigate to=\"/dashboard\" />}\n        />\n        <Route \n          path=\"/dashboard\" \n          element={session ? <DashboardPage /> : <Navigate to=\"/login\" />}\n        />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,OAASC,QAAQ,KAAQ,YAAY,CACrC,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAEC,IAAI,CAAE,CAAEL,OAAQ,CAAE,CAAC,CAAG,KAAM,CAAAR,QAAQ,CAACc,IAAI,CAACF,UAAU,CAAC,CAAC,CAC9DH,UAAU,CAACD,OAAO,CAAC,CACnBG,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAEDC,UAAU,CAAC,CAAC,CAEZ,KAAM,CAAEC,IAAI,CAAE,CAAEE,YAAa,CAAE,CAAC,CAAGf,QAAQ,CAACc,IAAI,CAACE,iBAAiB,CAAC,CAACC,MAAM,CAAET,OAAO,GAAK,CACtFC,UAAU,CAACD,OAAO,CAAC,CACrB,CAAC,CAAC,CAEF,MAAO,IAAMO,YAAY,CAACG,WAAW,CAAC,CAAC,CACzC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIR,OAAO,CAAE,CACX,mBAAON,IAAA,QAAAe,QAAA,CAAK,YAAU,CAAK,CAAC,CAAE;AAChC,CAEA,mBACEf,IAAA,CAACR,MAAM,EAAAuB,QAAA,cACLb,KAAA,CAACT,MAAM,EAAAsB,QAAA,eACLf,IAAA,CAACN,KAAK,EACJsB,IAAI,CAAC,GAAG,CACRC,OAAO,CAAEb,OAAO,cAAGJ,IAAA,CAACL,QAAQ,EAACuB,EAAE,CAAC,YAAY,CAAE,CAAC,cAAGlB,IAAA,CAACL,QAAQ,EAACuB,EAAE,CAAC,QAAQ,CAAE,CAAE,CAC5E,CAAC,cACFlB,IAAA,CAACN,KAAK,EACJsB,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAE,CAACb,OAAO,cAAGJ,IAAA,CAACH,SAAS,GAAE,CAAC,cAAGG,IAAA,CAACL,QAAQ,EAACuB,EAAE,CAAC,YAAY,CAAE,CAAE,CAClE,CAAC,cACFlB,IAAA,CAACN,KAAK,EACJsB,IAAI,CAAC,YAAY,CACjBC,OAAO,CAAEb,OAAO,cAAGJ,IAAA,CAACF,aAAa,GAAE,CAAC,cAAGE,IAAA,CAACL,QAAQ,EAACuB,EAAE,CAAC,QAAQ,CAAE,CAAE,CACjE,CAAC,EACI,CAAC,CACH,CAAC,CAEb,CAEA,cAAe,CAAAf,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}